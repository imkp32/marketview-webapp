(this["webpackJsonpmarketview-master"]=this["webpackJsonpmarketview-master"]||[]).push([[0],{61:function(t,e,n){},62:function(t,e,n){},86:function(t,e,n){},97:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),s=n(22),i=n.n(s),c=(n(61),n(23)),u=n(9),d=n(30),l=n(28),o=(n(62),n(32)),h=n(7),j=n.n(h),f=n(14),b=n(15),m=n.n(b),x=n(12),v=n.n(x),O=n(0),p=Object(a.createContext)(),g=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.fetchFunds(),a.fetchAllStats(),a.fetchHistStats(),a.fetchMonthlyStats(),a.fetchAnnualStats()},a.fetchFunds=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("http://34.74.146.25/api/dataservice/mutualfunddata").then((function(t){var e=t.data;a.setState({fundList:e})}));case 2:case"end":return t.stop()}}),t)}))),a.fetchAnnualStats=Object(f.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="http://34.74.146.25/api/calculationservice?FundId="+a.state.uniqueId+"&StatName=AnnualReturns",t.next=3,m.a.get(e).then((function(t){var e=t.data;a.setState({annualList:e})}));case 3:case"end":return t.stop()}}),t)}))),a.fetchMonthlyStats=Object(f.a)(j.a.mark((function t(){var e,n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="http://34.74.146.25/api/calculationservice?FundId="+a.state.uniqueId+"&StatName=LastThreeMonthsReturns",n=[],r=[],t.next=5,m.a.get(e).then((function(t){var e=t.data;a.setState({monthlyList:e}),r.push(Object.keys(e.timeSeriesList[0].stats)),n.push(Object.values(e.timeSeriesList[0].stats)),r[0].splice(0,1),n[0].splice(0,1),a.setState({monthArray:r}),a.setState({returnArray:n})}));case 5:case"end":return t.stop()}}),t)}))),a.fetchHistStats=Object(f.a)(j.a.mark((function t(){var e,n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="http://34.74.146.25/api/calculationservice?FundId="+a.state.uniqueId+"&StatName=HistoricalCumulativeReturns",n=[],r=[],t.next=5,m.a.get(e).then((function(t){var e=t.data;a.setState({historicalList:e});for(var s=0;s<e.timeSeriesList.length;s++)void 0!=e.timeSeriesList[s].stats.HistoricalCumulativeReturns&&null!=e.timeSeriesList[s].stats.HistoricalCumulativeReturns&&n.push(e.timeSeriesList[s].stats.HistoricalCumulativeReturns),r.push(e.timeSeriesList[s].date);a.setState({historicalArray:n}),a.setState({dateArray:r})}));case 5:case"end":return t.stop()}}),t)}))),a.fetchAllStats=Object(f.a)(j.a.mark((function t(){var e,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="http://34.74.146.25/api/calculationservice?FundId="+a.state.uniqueId+"&StatName=1 Day Returns,1 Month Returns, 1 Week Returns,1 Quarter Returns, 1 Year Returns, WeekToDate,MonthToDate,YearToDate, QuarterToDate,LastWeekReturns,LastMonthReturns,LastYearReturns,LastQuarterReturns",n=[],t.next=4,m.a.get(e).then((function(t){var e=t.data;a.setState({fullCalcList:e});for(var r=0;r<e.timeSeriesList.length;r++)n.push(e.timeSeriesList[r].stats.nav)}));case 4:a.setState({navArr:n});case 5:case"end":return t.stop()}}),t)}))),a.addId=function(t){var e=a.state.fundList[t],n=[];n.push(Object.values(e)[0].toString()),a.setState({uniqueId:n}),a.state.uniqueId=Object.values(e)[0].toString()},a.addFund=function(t){var e=[];e.length<1&&(e.push(t),a.setState({favorites:e}),a.addId(t))},a.isInFavorites=function(t){return v.a.includes(a.state.favorites,t)},a.setFilteredFunds=function(t){return a.setState({filteredFunds:t})},a.confirmFavorites=function(){var t=a.state.uniqueId;a.setState({firstVisit:!1,page:"Dashboard",uniqueId:t},(function(){a.fetchHistStats(),a.fetchAllStats(),a.fetchMonthlyStats(),a.fetchAllStats()})),sessionStorage.setItem("financialDash",JSON.stringify({favorites:a.state.favorites,uniqueId:t})),sessionStorage.setItem("uniqueId",t)},a.setPage=function(t){return a.setState({page:t})},a.state=Object(o.a)(Object(o.a)({page:"Funds",favorites:[0],uniqueId:sessionStorage.getItem("uniqueId")?sessionStorage.getItem("uniqueId"):"60ebf7813f62675e20176661",setPage:a.setPage},a.savedSettings()),{},{addFund:a.addFund,isInFavorites:a.isInFavorites,confirmFavorites:a.confirmFavorites,setFilteredFunds:a.setFilteredFunds,addId:a.addId,columnDefs:[{headerName:"YEAR",field:"date",sortable:!0,filter:!0,minWidth:50,maxWidth:90},{headerName:"JAN",field:"stats.nav",sortable:!0,filter:!0,minWidth:50,maxWidth:100},{headerName:"FEB",field:"stats.1 Day Returns",sortable:!0,filter:!0,minWidth:50,maxWidth:100},{headerName:"MAR",field:"stats.1 Month Returns",sortable:!0,filter:!0,minWidth:50,maxWidth:100},{headerName:"APR",field:"stats.1 Quarter Returns",sortable:!0,filter:!0,minWidth:50,maxWidth:100},{headerName:"MAY",field:"stats.MonthToDate",sortable:!0,filter:!0,minWidth:50,maxWidth:100},{headerName:"JUN",field:"stats.YearToDate",sortable:!0,filter:!0,minWidth:50,maxWidth:100},{headerName:"JUL",field:"stats.LastWeekReturns",sortable:!0,filter:!0,minWidth:50,maxWidth:100},{headerName:"AUG",field:"stats.LastMonthReturns",sortable:!0,filter:!0,minWidth:50,maxWidth:100},{headerName:"SEP",field:"stats.LastYearReturns",sortable:!0,filter:!0,minWidth:50,maxWidth:100},{headerName:"OCT",field:"stats.LastQuarterReturns",sortable:!0,filter:!0,minWidth:50,maxWidth:100},{headerName:"NOV",field:"stats.LastQuarterReturns",sortable:!0,filter:!0,minWidth:50,maxWidth:100},{headerName:"DEC",field:"stats.LastQuarterReturns",sortable:!0,filter:!0,minWidth:50,maxWidth:100}],rowData:null,navArr:[],dateArr:[],historicalArr:[],monthArray:[],returnArray:[]}),a}return Object(u.a)(n,[{key:"savedSettings",value:function(){var t=JSON.parse(sessionStorage.getItem("financialDash"));return t?{favorites:t.favorites,currentFund:t.currentFund}:{page:"Funds",firstVisit:!0}}},{key:"render",value:function(){return Object(O.jsx)(p.Provider,{value:this.state,children:this.props.children})}}]),n}(a.Component),S=function(t){var e=t.name,n=t.children;return Object(O.jsx)(p.Consumer,{children:function(t){return t.page!==e?null:Object(O.jsx)("div",{className:"container",children:n})}})},y=n(6),L=n(4);document.body.style.background="#ffffff",document.body.style.color="black";var A,F,R,C,k="background-color: ".concat("white"),I=("background-color: ".concat("white",";"),"background-color: ".concat("#09f010",";"),"box-shadow: 0px 0px 5px 1px ".concat("#a9b6ff"),L.a.div(A||(A=Object(y.a)(["\n    ","\n"])),k)),w=Object(L.a)(I)(F||(F=Object(y.a)(["\n    &:hover{\n        cursor:pointer;\n        ","\n    }\n"])),"box-shadow: 5px 1px 10px 10px #000000"),W=(Object(L.a)(w)(R||(R=Object(y.a)(["\n    &:hover{\n        cursor:pointer;\n        ","\n    }\n"])),"box-shadow: 5px 1px 10px 10px #e41111"),Object(L.a)(I)(C||(C=Object(y.a)(["\n    pointer-events:none;\n    opacity:0.4;\n"])))),N=function(t){var e=t.name,n=t.scheType,a=t.schemeCat;return Object(O.jsx)("div",{class:"col s12 m12",children:Object(O.jsx)("div",{class:"card-panel white",children:Object(O.jsxs)("span",{class:"black-text",children:[e,Object(O.jsx)("div",{})," ",n,Object(O.jsx)("div",{})," ",a]})})})};function D(t,e,n){return function(){e(t),n()}}var M,T=function(t){var e=t.fundKey;return Object(O.jsx)(p.Consumer,{children:function(t){var n=t.fundList,a=t.addFund,r=t.isInFavorites,s=t.confirmFavorites,i=n[e],c=w;return r(e)&&(c=W),Object(O.jsx)(c,{onClick:D(e,a,s),children:Object(O.jsx)(N,{name:i.metaData.fundHouse,scheType:i.metaData.schemeType,schemeCat:i.metaData.schemeCategory})})}})},q=L.a.div(M||(M=Object(y.a)(["\n    display:grid;\n    grid-template-columns:repeat(1,1fr);\n    grid-gap:15px;\n    margin-top:40px;\n"])));function H(t,e){return e&&Object.keys(e)||Object.keys(t).slice(0,50)}var Y,z=function(){return Object(O.jsx)(p.Consumer,{children:function(t){var e=t.fundList,n=t.filteredFunds;return Object(O.jsx)(q,{children:H(e,n).map((function(t){return Object(O.jsx)(T,{fundKey:t},t)}))})}})},P=n(52),J=n.n(P),Q=L.a.div(Y||(Y=Object(y.a)(["\n    display:grid;\n    grid-template-columns:10px, 1fr;\n"]))),E=v.a.debounce((function(t,e,n){var a=Object.keys(e),r=a.map((function(t){return e[t].metaData.fundHouse})),s=a.concat(r),i=J.a.filter(t,s,{}).map((function(t){return t.string})),c=v.a.pickBy(e,(function(t,e){var n=t.metaData.fundHouse;return v.a.includes(i,e)||v.a.includes(i,n)}));console.log(U),n(c)}),500);function U(t,e,n){var a=t.target.value;a?E(a,n,e):e(null)}var V,B,G=function(){return Object(O.jsx)(p.Consumer,{children:function(t){var e=t.setFilteredFunds,n=t.fundList;return Object(O.jsx)(Q,{children:Object(O.jsxs)("div",{class:"input-field col s12",children:[Object(O.jsx)("i",{class:"material-icons prefix",children:"search"}),Object(O.jsx)("textarea",{onKeyUp:function(t){return U(t,e,n)},id:"icon_prefix2",class:"materialize-textarea"}),Object(O.jsx)("label",{for:"icon_prefix2",children:"Search All Funds"})]})})}})},K=function(){return Object(O.jsxs)(S,{name:"Funds",children:[Object(O.jsx)("div",{className:"row",children:Object(O.jsx)("div",{className:"col s12 m12",children:Object(O.jsx)(G,{})})}),Object(O.jsx)(z,{})]})},_=L.a.div(V||(V=Object(y.a)(["\n    padding:40px;\n"]))),X=(n(86),L.a.div(B||(B=Object(y.a)(["\n    display : grid;\n    grid-template-columns:180px auto 100px 100px;\n"]))),function(){return Object(O.jsx)(p.Consumer,{children:function(t){var e=t.setPage;return Object(O.jsx)("nav",{children:Object(O.jsxs)("div",{class:"nav-wrapper",children:[Object(O.jsx)("a",{href:"#",class:"brand-logo center",onClick:function(){return e("Funds")},children:"MarketView"}),Object(O.jsxs)("ul",{class:"right hide-on-med-and-down",children:[Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",onClick:function(){return e("Funds")},children:"Funds"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",onClick:function(){return e("Dashboard")},children:"Dashboard"})})]})]})})}})}),Z=function(t){return Object(O.jsx)(p.Consumer,{children:function(e){var n=e.fundList,a=e.fullCalcList,r=e.firstVisit;return n?r||a?Object(O.jsx)("div",{children:t.children}):Object(O.jsx)("div",{children:"Loading Statistics"}):Object(O.jsx)("div",{children:"Loading Funds"})}})},$=n(53),tt=(n(94),n(95),n(96),function(){return Object(O.jsx)(p.Consumer,{children:function(t){var e=t.columnDefs,n=t.fullCalcList;return Object(O.jsx)("div",{id:"myGrid",className:"ag-theme-balham",style:{height:"450px",width:"100%"},children:Object(O.jsx)($.AgGridReact,{columnDefs:e,rowData:n.timeSeriesList})})}})}),et=function(t,e){return{chart:{style:{fontFamily:"roboto"}},title:{text:"Historical Cumulative Returns"},subtitle:{text:"MarketView Analytics"},yAxis:{title:{text:"Historical Returns"}},xAxis:{categories:t,tickInterval:252,labels:{formatter:function(){return this.value.toString().substring(0,4)}}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{series:{label:{connectorAllowed:!1}}},series:[{name:"Historical Cumulative Returns",data:e}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}}},nt=n(17),at=n.n(nt),rt=n(24),st=n.n(rt),it=function(){return Object(O.jsx)(p.Consumer,{children:function(t){var e=t.dateArray,n=t.historicalArray;return Object(O.jsx)(I,{children:Object(O.jsx)(st.a,{highcharts:at.a,options:et(e,n)})})}})},ct=n(112),ut=n(114),dt=n(54),lt=n.n(dt),ot=function(){var t=document.querySelector(".tabs");lt.a.Tabs.init(t,{});return Object(O.jsx)(p.Consumer,{children:function(t){var e=t.annualList;return Object(O.jsxs)("div",{class:"card",children:[Object(O.jsx)("div",{class:"card-content",children:Object(O.jsx)("p",{children:"ANNUAL RETURNS"})}),Object(O.jsx)("div",{class:"card-tabs",children:Object(O.jsxs)("ul",{class:"tabs tabs-fixed-width",children:[Object(O.jsx)("li",{class:"tab",children:Object(O.jsx)("a",{class:"active",href:"#test4",children:"1 Year"})}),Object(O.jsx)("li",{class:"tab",children:Object(O.jsx)("a",{href:"#test5",children:"3 Years"})}),Object(O.jsx)("li",{class:"tab",children:Object(O.jsx)("a",{href:"#test6",children:"5 Years"})}),Object(O.jsx)("li",{class:"tab",children:Object(O.jsx)("a",{href:"#test7",children:"Annualized"})})]})}),Object(O.jsxs)("div",{class:"card-content grey lighten-4",children:[Object(O.jsx)("div",{id:"test4",children:e.timeSeriesList[0].stats.AnnualizedReturnLast1Year}),Object(O.jsx)("div",{id:"test5",children:e.timeSeriesList[0].stats.AnnualizedReturnLast3Year}),Object(O.jsx)("div",{id:"test6",children:e.timeSeriesList[0].stats.AnnualizedReturnLast5Year}),Object(O.jsx)("div",{id:"test7",children:e.timeSeriesList[0].stats.AnnualizedReturn})]})]})}})},ht=function(t,e){return console.log(e),{chart:{type:"column",style:{fontFamily:"roboto"}},title:{text:"Last 3 Months Returns"},xAxis:{categories:t[0]},yAxis:{title:{text:"Returns"}},legend:{enabled:!1,layout:"vertical",align:"right",verticalAlign:"middle"},credits:{enabled:!0},plotOptions:{column:{zones:[{value:0,color:"red"},{color:"green"}]}},series:[{name:"Returns",data:e[0]}]}},jt=function(){return Object(O.jsx)(p.Consumer,{children:function(t){var e=t.monthArray,n=t.returnArray;return Object(O.jsx)(I,{children:Object(O.jsx)(st.a,{highcharts:at.a,options:ht(e,n)})})}})},ft=Object(ct.a)((function(t){return{root:{flexGrow:1}}})),bt=function(){var t=ft();return Object(O.jsx)(p.Consumer,{children:function(e){var n=e.fullCalcList;return Object(O.jsx)("div",{className:t.root,children:Object(O.jsxs)(ut.a,{container:!0,spacing:3,children:[Object(O.jsx)(ut.a,{item:!0,xs:12,children:Object(O.jsx)("p",{class:"z-depth-1",children:Object(O.jsx)("h4",{children:Object.values(n)[0]})})}),Object(O.jsx)(ut.a,{item:!0,xs:12,children:Object(O.jsx)(tt,{})}),Object(O.jsx)(ut.a,{item:!0,xs:12,sm:6,children:Object(O.jsx)(jt,{})}),Object(O.jsx)(ut.a,{item:!0,xs:12,sm:6,children:Object(O.jsx)(ot,{})}),Object(O.jsx)(ut.a,{item:!0,xs:12,children:Object(O.jsx)(I,{children:Object(O.jsx)(it,{})})})]})})}})},mt=function(){return Object(O.jsx)(S,{name:"Dashboard",children:Object(O.jsx)(bt,{})})},xt=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(O.jsx)(_,{children:Object(O.jsxs)(g,{children:[Object(O.jsx)(X,{}),Object(O.jsxs)(Z,{children:[Object(O.jsx)(K,{}),Object(O.jsx)(mt,{})]})]})})}}]),n}(a.Component),vt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,116)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),s(t),i(t)}))};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(xt,{})}),document.getElementById("root")),vt()}},[[97,1,2]]]);
//# sourceMappingURL=main.52c310b6.chunk.js.map